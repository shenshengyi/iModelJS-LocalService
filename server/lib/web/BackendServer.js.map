{"version":3,"file":"BackendServer.js","sourceRoot":"","sources":["../../src/web/BackendServer.ts"],"names":[],"mappings":";;AAKA,4DAAgE;AAChE,8DAMkC;AAOnB,KAAK,UAAU,UAAU,CAAC,IAA8B;IAErE,MAAM,SAAS,GAAG,wCAAsB,CAAC,cAAc,CACrD,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,qBAAqB,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,EAC3D,IAAI,CACL,CAAC;IAEF,MAAM,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;IAC9C,MAAM,MAAM,GAAG,IAAI,sCAAqB,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAC7D,MAAM,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AAKhC,CAAC;AAdD,6BAcC","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n * Copyright (c) Bentley Systems, Incorporated. All rights reserved.\r\n * See LICENSE.md in the project root for license terms and full copyright notice.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Logger } from \"@bentley/bentleyjs-core\";\r\nimport { IModelJsExpressServer } from \"@bentley/express-server\";\r\nimport {\r\n  BentleyCloudRpcManager,\r\n  RpcInterfaceDefinition,\r\n  IModelReadRpcInterface,\r\n  IModelTileRpcInterface,\r\n  SnapshotIModelRpcInterface,\r\n} from \"@bentley/imodeljs-common\";\r\n\r\nimport { PresentationRpcInterface } from \"@bentley/presentation-common\";\r\n\r\n/**\r\n * Initializes Web Server backend\r\n */\r\nexport default async function initialize(rpcs: RpcInterfaceDefinition[]) {\r\n  // tell BentleyCloudRpcManager which RPC interfaces to handle\r\n  const rpcConfig = BentleyCloudRpcManager.initializeImpl(\r\n    { info: { title: \"ninezone-sample-app\", version: \"v1.0\" } },\r\n    rpcs\r\n  );\r\n\r\n  const port = Number(process.env.PORT || 3001);\r\n  const server = new IModelJsExpressServer(rpcConfig.protocol);\r\n  await server.initialize(port);\r\n  //   Logger.logInfo(\r\n  //     AppLoggerCategory.Backend,\r\n  //     `RPC backend for ninezone-sample-app listening on port ${port}`\r\n  //   );\r\n}\r\n"]}